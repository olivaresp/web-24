---
import Layout from "../layouts/Layout.astro";
---

<script>
  import { gsap } from "gsap/dist/gsap";
  import { CustomEase } from "gsap/CustomEase";

  gsap.registerPlugin(CustomEase);

  function playIntro() {
    const timeline = gsap.timeline({
      defaults: { duration: 1, ease: "power4.out" },
    });
    let yCenter = window.innerHeight / 2 - 50;
    let xCenter = window.innerWidth / 2 - 90;

    timeline
      .from(".main-nav__logo", {
        duration: 1,
        scale: 2,
        delay: 2,
        x: xCenter,
        y: yCenter,
        ease: CustomEase.create(
          "custom",
          "M0,0 C0,0 0.558,-0.168 0.778,0.146 0.929,0.361 1,1 1,1 "
        ),
      })
      .from(".main-nav__pres, .main-nav__options, .footer", {
        opacity: 0,
        delay: 0.7,
        duration: 1.3,
        ease: "slow(0.7, 0.7, false)",
      })
      .from(".hi", {
        duration: 3,
        opacity: 0,
        delay: 0.2,
        ease: "slow(0.7, 0.7, false)",
      });
  }
  if (!sessionStorage.getItem("playedIntro")) {
    playIntro();
    sessionStorage.setItem("playedIntro", "yes");
  }
</script>

<Layout title="Front-End Dev">
  <section class="index-urls">
    <h2 class="title">
      AndrÃ©s ~ ðŸ¦†
    </h2>
    <a class="index-url" href="/portfolio">
      <h2 class="title">
        Portfolio
      </h2>
    </a>
    <a class="index-url" href="/connect">
      <h2 class="title">
        Let's connect
      </h2>
    </a>
  </section>
</Layout>
